---
layout: post
title:  "Java 分布式技术栈介绍"
date:   2021-03-06 21:18:54
categories: Java Distributed 
tags: Java Distributed
excerpt: Java 分布式技术栈介绍
mathjax: true
---

* content
{:toc}

> 对于面对C端用户的产品，单体模式无法满足高并发高可用的要求了。分布式微服务架构和SOA架构渐渐成为面对C端用户产品的主流框架。


微服务的核心就是将传统的一站式的应用，根据业务拆分为一个一个的服务，彻底的去耦合，每个微服务提供单个业务功能的服务，一个服务做一件事情，从技术角度看就是一种小而独立的处理过程。能够单独启动和销毁，拥有自己独立的数据库。

### 微服务架构

1. 微服务架构的4个核心问题

    ·1） 哪一个服务响应客户端的请求？

    ·2） 服务之间如何通信？

    ·3） 当服务数量剧增的时候，如何进行服务治理

    ·4） 当服务挂了，怎么办？

2. 现在的解决方案

    ·1） Spring Cloud (主要netflix): 一站式解决方案
        API网关：zuul网关
        网络通信: Feign ---HTTPclient---http，同步，阻塞
        服务注册发现: Eureka
        熔断机制: Hystrix

    ·2)  Dubbo + Zookeeper + 按照需要再加......
        API网关：无
        网络通信: dubbo NIO
        服务注册发现: zookeeper
        熔断机制: 无 可以借助Hystrix

    ·3） Spring cloud Alibaba: 一站式解决方案

3. 新概念： 服务网格 service mesh + istio

### 微服务优缺点

1. 优点：

    ·1） 单一职责原则

    ·2） 每个服务足够内聚，足够小，代码容易理解，这样能聚焦一个指定的业务功能和业务需求

    ·3） 开发简单，开发效率提高，一个服务可以只专门做一件事情

    .4） 微服务能够被小团队单独开发，这个小团队是2-5个的开发人员组成

    ·5） 微服务是松耦合的，是有功能意义的服务，无论开发还是部署阶段都是独立的。

    ·6） 易于与第三方集成，为服务允许容易灵活的方式集成自动化部署，通过集成工具，如jenkins

    ·7） 微服务易于被一个开发人员理解、修改和维护，这样的小团队更关注自己的工作成果、无需通过合作才能体现价值

    ·8） 微服务允许你融入新技术

    ·9） 微服务只有业务逻辑代码，不会和html，css或者其他界面混合

    ·10）每个微服务都有自己的存储功能，可以有自己的数据库，也可以有统一的数据库

2. 缺点

    ·1） 开发人员处理分布式系统的复杂性

    ·2） 多服务运维难度增加

    ·3） 系统部署依赖

    ·4） 服务间的通信成本

    ·5） 数据一致性

    ·6） 系统集成测试

    ·7） 性能监控

### Spring cloud 作为为服务架构的优势

1. 选型依据:

    1) 整体解决方案和框架的成熟度

    2）社区热度

    3）可维护性

    4）学习曲线

2. 当前各大公司用的微服务架构有哪些？

    1）阿里：dubbo+HFS

    2) 京东：JSF

    3）新浪：Motan

    4）当当: DubboX

    
